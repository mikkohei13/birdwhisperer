

# My species from Finland, >= 5 obs, no birds
all_valid_species = [ "ahdekaunokki", "ahoheinäsirkka", "ahokissankäpälä", "ahomansikka", "ahomatara", "ahopäivänkakkara", "ahopirkko", "ahopukinjuuri", "ahosuolaheinä", "ahven", "aitovirna", "alppivuokko", "alsikeapila", "amiraali", "angervohopeatäplä", "arinakääpä", "auroraperhonen", "espanjansiruetana", "etelänruttojuuri", "eteläntuoksusimake", "haapaperhonen", "haaparousku", "haapasuomusammal", "haaraheltta", "haavanhiili", "haavankääpä", "haavankehräjäkälä", "haavankeltajäkälä", "haavanläiskäjäkälä", "haisukurjenpolvi", "halli", "hammasjäkälä", "hankakarve", "hankalude", "harakankello", "häränsilmä", "harmaaleppä", "harmaanapajäkälä", "harmaaporonjäkälä", "harmaaröyhelö", "härmälaakajäkälä", "härmänuppijäkälä", "harmio", "hartokesakkolude", "haurasloikko", "heinähukka", "heinäratamo", "heinätöpökatti", "hentolaakajäkälä", "herkkutatti", "herukkaperhonen", "hevonhierakka", "hieskoivu", "hiirenvirna", "hirvenkello", "hirvi", "hirvikärpänen", "hoikkahopeahanhikki", "hopeasinisiipi", "huopaohdake", "huopavoikeltano", "huppukeltayökkönen", "idänsinililja", "idänukonpalko", "ilta-ailakki", "isokäärmeenkieli", "isokäenrieska", "isokarpalo", "isokuparilude", "isolaukku", "isomaksaruoho", "isomorsiusyökkönen", "isonokkonen", "isopihtihäntä", "isorustojäkälä", "isotalvikki", "isotuomipihlaja", "isoulpukka", "jänönsalaatti", "japaninkellukka", "japanintatar", "järvikorte", "järviruoko", "jaspislude", "jättipalsami", "jauhosavikka", "juolukka", "juomuseppä", "juovalude", "juovanaskalilude", "juovatarhakoi", "kaakonkoukerolude", "kaalilude", "kaarrekarve", "käenkaali", "kaislahepokatti", "kaksipistepirkko", "kalliohatikka", "kallioisokarve", "kalliokielo", "kalliokohokki", "kalliomaljajäkälä", "kalliotierasammal", "kalvolude", "kanadankoiransilmä", "kanadanpiisku", "kanerva", "kanervapirkko", "kangasajuruoho", "kangasmaitikka", "kangasperhonen", "kangasrousku", "kangassinisiipi", "kangastatti", "kangasvuokko", "kani", "kantokääpä", "karhunputki", "kärsäpaisukarve", "karstakeltakarve", "karstanahkajäkälä", "karstanapajäkälä", "karttaperhonen", "karvahorsma", "karvakiviyrtti", "karvarousku", "karvaskallioinen", "karvavyökääpä", "kastikkaheinälude", "kataja", "katajapikkumittari", "katvemustapolvi", "kauhalaakajäkälä", "kauluskarttajäkälä", "kaunokainen", "kehnälaakajäkälä", "kehnäsieni", "keisarinviitta", "kelta-apila", "keltakannusruoho", "keltakärpässieni", "keltakurjenmiekka", "keltamaite", "keltamaksaruoho", "keltamatara", "keltamo", "keltamykerölude", "keltaniittyperhonen", "keltapetoyökkönen", "keltaröyhelö", "keltasauramo", "keltasiimalude", "keltatulijäkälä", "keltatyvikarve", "keltavahvero", "keltavuokko", "kenttäkeulankärki", "ketohanhikki", "ketoheinäsirkka", "ketohopeatäplä", "ketokaunokki", "ketokirkilude", "ketolude", "ketomaruna", "ketomustapolvi", "ketoneilikka", "keto-orvokki", "ketoruusuruoho", "ketosinisiipi", "ketotuulenlento", "kettu", "kevätesikko", "kevätkynsimö", "kevätlinnunherne", "kevätlinnunsilmä", "kevätpiippo", "kevättähtimö", "kielo", "kiiltomato", "kiiltomittari", "kiiltopaju", "kirjokauluslude", "kirjopillike", "kissa", "kissankello", "kivikkoalvejuuri", "kivikkokimalainen", "koiranheinä", "koiranputki", "koivuherttalude", "koivulude", "koivunpunikkitatti", "koivunruskokarve", "koivutyttöperhonen", "komealupiini", "korallikeltuaisjäkälä", "korpi-imarre", "korpikaisla", "korpipaatsama", "korvasieni", "kotkansiipi", "kuhmujäkälä", "kukkaravukki", "kullero", "kulmaheinäkoisa", "kultakuoriainen", "kultapiisku", "kuomalude", "kuparilude", "kurjenjalka", "kurjenkello", "kurkkuhämähäkki", "kurtturuusu", "kuultoputkiainen", "kuusenkynsikääpä", "kuusenlymyharjakka", "kuusenneulasnahikas", "kyhmysiira", "kyläkarhiainen", "kyläkellukka", "kyläkeltuaisjäkälä", "kymmenpistepirkko", "kyy", "lahokaviosammal", "laholimisammal", "laikkukenttämittari", "lampaankääpä", "lanttuperhonen", "lattakääpä", "lauhahiipijä", "lehtohepokatti", "lehtohorsma", "lehtoimikkä", "lehtokielo", "lehtokotilo", "lehtokuusama", "lehtomaitikka", "lehtopalsami", "lehtoruusukesammal", "lehtosinijuuri", "lehtotaponlehti", "lehtotuomi", "lehtovirmajuuri", "lehvälude", "lehvänokkalude", "leskenlehti", "levärupi", "leveäosmankäämi", "liito-orava", "lillukka", "limanuljaska", "linnakultajäkälä", "linnunkaali", "litulaukka", "liuskajauhejäkälä", "liuskanapajäkälä", "loistokultasiipi", "luhtasuoputki", "luhtatikarilude", "luhtavuohennokka", "lumikko", "lupiininhärmä", "lutukka", "maahumala", "maariankämmekkä", "maitohorsma", "mäkikuisma", "mäkimeirami", "mäkitervakko", "männynlymyharjakka", "mantukimalainen", "mäntylude", "mäntyneulasmittari", "marjalude", "mäyrä", "merikultajäkälä", "merimustuainen", "merirannikki", "meriratamo", "merirokko", "merisaunio", "mesiangervo", "mesimarja", "metsäalvejuuri", "metsäapila", "metsähaapa", "metsäheinäkoisa", "metsäimarre", "metsäjänis", "metsäjuovakoisa", "metsäkastikka", "metsäkauris", "metsäkerrossammal", "metsäkorte", "metsäkurjenpolvi", "metsäkuusi", "metsälauha", "metsälehmus", "metsämaitikka", "metsämänty", "metsänätkelmä", "metsänokiperhonen", "metsäorvokki", "metsäruutulude", "metsäsittiäinen", "metsätähti", "metsätammi", "metsävaahtera", "mukulaleinikki", "museokuoriainen", "mustakonnanmarja", "mustarousku", "mustaröyhelö", "mustatäplähiipijä", "mustatorvisieni", "mustikka", "mustikkamittari", "muurain", "muurikultajäkälä", "myrkkykeiso", "näsiä", "neidonkieli", "neidonkorento", "neitoperhonen", "niittyhopeatäplä", "niittyhumala", "niittyjuola", "niittykäenkukka", "niittyleinikki", "niittynätkelmä", "niittysuolaheinä", "niitty-yökkönen", "nokkoskirjolude", "nokkosperhonen", "nokkosviittalude", "nuokkuhelmikkä", "nuokkukohokki", "nuokkutalvikki", "nuolilude", "nuottaruoho", "nurmiajuruoho", "nurmiheinäsirkka", "nurmikohokki", "nurmimailanen", "nurmipallopää", "nurmipuntarpää", "nurmitädyke", "nurmitähkälude", "ohdakeperhonen", "ojakärsämö", "ojakellukka", "ojatädyke", "okaheinälude", "omenanmuumiosieni", "oranssimaljakas", "oranssivoikeltano", "orava", "oravanmarja", "orvontädyke", "paatsamasinisiipi", "pähkinäpensas", "paimenmatara", "pakurikääpä", "pallelude", "palleroporonjäkälä", "pallokarve", "palmusammal", "palsternakka", "papelorikko", "partaohra", "parvikirvari", "peltoemäkki", "peltohanhikki", "peltohatikka", "peltokanankaali", "peltokierto", "peltokimalainen", "peltokorte", "peltolude", "pelto-ohdake", "pelto-orvokki", "peltopähkämö", "peltosaunio", "peltotaskuruoho", "pensashepokatti", "peurankello", "piennarheinäkoisa", "piennarpukinparta", "pietaryrtti", "piharatamo", "pihasaunio", "pihasyreeni", "pihatähtimö", "pihlaja", "pihlajan-katajanruoste", "pihlajaperhonen", "piikkiohdake", "piippopaksupää", "piirtojäkälä", "piisami", "pikkuheinälude", "pikkukäenrieska", "pikkukeltajäkälä", "pikkukultakeiju", "pikkukultasiipi", "pikkuröyhelö", "pikkutalvikki", "pikkutalvio", "pohjankallioimarre", "pohjanlepakko", "poimuhiippo", "pökkelökääpä", "pölkkyruoho", "pujo", "pujoherttalude", "puna-ailakki", "puna-apila", "punakärpässieni", "punakoiso", "punalehtiruusu", "punanäppy", "punasänkiö", "punasolmukki", "punasyyskorento", "puolukka", "purppuranahakka", "pursuhopeatäplä", "purtojuuri", "pyjamalude", "pyöreälehtikihokki", "pystykiurunkannus", "raate", "raidanisokarve", "raidankääpä", "raita", "rakkohauru", "ranta-alpi", "rantakanankaali", "rantakirjolude", "rantakukka", "rantamatara", "rantaminttu", "rantanenätti", "rantatädyke", "rantavehnä", "ratakrassi", "ratamosarpio", "ratamoverkkoperhonen", "rätvänä", "rauduskoivu", "rauniolukki", "rentohaarikko", "rentukka", "reunustäplämittari", "riidenlieko", "rikkapalsami", "risarustojäkälä", "ritariperhonen", "rohtoraunioyrtti", "rohtosormustinkukka", "rohtotädyke", "rohtovirmajuuri", "rönsyleinikki", "rotta", "röyhyvihvilä", "ruohokanukka", "ruoholaukka", "ruokohelpi", "rupikonna", "rusakko", "ruskoärviä", "ruskohukankorento", "ruskokarikelude", "ruskokehräjäkälä", "ruskoröyhelö", "ruskosammakko", "ruskotatti", "ruskoturilas", "rusokärpässieni", "rusokukkajäärä", "ruutumittari", "ruutupirkko", "ryhmätuhkelo", "saarni", "sananjalka", "sarjakeltano", "särki", "särmäkuisma", "saukko", "savijäkkärä", "seinäkeltajäkälä", "seinäsammal", "seinäsuomujäkälä", "seitsenpistepirkko", "seittitakiainen", "siankärsämö", "sianpuolukka", "siili", "silkkihälvekäs", "silokeltakarve", "siloruskokarve", "sinilaakajäkälä", "sinisimpukka", "sinivuokko", "sirokorallisammal", "sisilisko", "sitruunaperhonen", "soikkokaksikko", "sormipaisukarve", "sudenmarja", "suikeroalpi", "sulkasammal", "suokukka", "suola-arho", "suomumustesieni", "suomyrtti", "suo-orvokki", "suopursu", "supikoira", "suppilovahvero", "suruvaippa", "sylkikaskas", "sypäkkälude", "syyläjuuri", "syysmaitiainen", "syysvarpumittari", "taikinamarja", "tammiraitalude", "täpläkauris", "täpläkorsilude", "täpläpapurikko", "tarhakauluslude", "tarhamehiläinen", "tarhaomenapuu", "tarharaparperi", "tarhasylkikuoriainen", "taulakääpä", "terttualpi", "terttuselja", "tervaleppä", "tesmaperhonen", "tikanhiippasammal", "tummapapurikko", "tummaraunioinen", "tummarusokki", "tummatulikukka", "tunturimittari", "tuoksuvatukka", "tuomenkehrääjäkoi", "tupasvilla", "tupsunaava", "tuulenpesäsieni", "tylppöhierakka", "tyrni", "tyrskykultajäkälä", "uistinvita", "ukkomansikka", "ukontulikukka", "vaahteranhärmä", "vaahterantervatäplä", "vaaleakeltayökkönen", "vadelma", "vainiokehräjäkälä", "väinönputki", "vaivaiskoivu", "valkoapila", "valkohankajäkälä", "valkohäntäkauris", "valkokarhunköynnös", "valkolaakajäkälä", "valkolehdokki", "valkomaksaruoho", "valkomesikkä", "valkopeippi", "valkoporonjäkälä", "valkotarhakotilo", "valkovuokko", "valkovuokon-pihlajanruoste", "vanamo", "variksenmarja", "varjolilja", "vaskitsa", "vehka", "verilude", "verkkoeloyökkönen", "vesilisko", "vesitatar", "viherlude", "viiruviittalude", "viitapihlaja-angervo", "viitasammakko", "vuohenputki", "vuorijalava", "vuorikaunokki", "yövilkka", "mänty", "kuusi", "haapa", "koivut", "voikukka" ]


import editdistance

observations = [ "Haaban keltajakana, haavalla", "Haavan kehrä ja kävä.", "Harmaa rauhalla.", "Kamerva, runsas.", "Kattaja.", "Kehme laakaljakaran.", "Kelta tuli jakalan.", "Kelta tyvi karve.", "Keltaröyhälä.", "Kiitos kun katsoit.", "Kiitos.", "Mänty.", "Metsähaapa.", "Mustikka.", "Puolukka.", "Raidan iso karve.", "Ruska rauha.", "Seinä-Suomujakela.", "Sormipaisukarve.", "Valkohanka ja kälä.", "Valkohankajakara.", "Ruska rauhala", "Ruska rauhal", "Rusko rauha" ]

print("--------------------------------")

'''
TODO:
Should emphasize common species. How? Quick and dirty: add _ to the names of uncommon species, to give penalty for editdistance comparison. Then remove _ from final names.

'''

for obs in observations:
    if "," in obs:
        obs_parts = obs.split(",")
        obs = obs_parts[0]

    # Remove extra characters
    obs = obs.replace(".", "")
    obs = obs.replace("-", "")
    obs = obs.replace(" ", "")
    obs = obs.lower()

    best_distance = 1000
    best_value = ""
    for valid_species in all_valid_species:
        dist = editdistance.eval(obs, valid_species) # Smaller is better
        distance_proportion = dist / len(obs)
        if distance_proportion < best_distance:
            best_distance = distance_proportion
            best_value = valid_species

    if "kiitos" in obs:
        print("POTENTIAL ERROR: ", obs)
    if best_distance > 0.4:
        print("AMBIGUOUS: ", obs)

    print(obs, best_value, best_distance)

# limit 0.35 -> all correct